<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>WeakMap и WeakSet. Task 1</title>
</head>

<body>
    <h1>
        Объекты: основы
    </h1>
    <h2>
        WeakMap и WeakSet
    </h2>
    <p>1. Есть массив сообщений:</p>
    <pre><code>
        let messages = [
            {text: "Hello", from: "John"},
            {text: "How goes?", from: "John"},
            {text: "See you soon", from: "Alice"}
        ];
    </code></pre>
    <p>
        У вас есть к ним доступ, но управление этим массивом происходит где-то ещё. Добавляются новые сообщения и
        удаляются старые, и вы не знаете в какой момент это может произойти.
    </p>
    <p>
        Имея такую вводную информацию, решите, какую структуру данных вы могли бы использовать для ответа на вопрос
        «было ли сообщение прочитано?».
        Структура должна быть подходящей, чтобы можно было однозначно сказать, было ли прочитано это сообщение для
        каждого объекта сообщения.
    </p>
    <p>
        P.S. Когда сообщение удаляется из массива messages, оно должно также исчезать из структуры данных.
    </p>
    <p>
        P.P.S. Нам не следует модифицировать сами объекты сообщений, добавлять туда свойства. Если сообщения принадлежат
        какому-то другому коду, то это может привести к плохим последствиям.
    </p>
    <p>
        Ответ: можно хранить данные в WeakSet. Данная коллекция будет хранить данные прочитанных сообщений и можно будет
        проверять наличие определенных сообщений в ней.
        Единственное, что нельзя будет вывести все прочитанные сообщения сразу, так как коллекция WeakSet не
        поддерживает методы, работающие сразу со всей коллецией.
        Данные в WeakSet очищаются автоматически.
    </p>
    <script>
        let readMessages = new WeakSet();
    </script>
</body>

</html>