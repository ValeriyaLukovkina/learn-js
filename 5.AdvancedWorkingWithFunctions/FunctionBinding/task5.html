<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Function binding. Task 5</title>
</head>

<body>
    <h1>
        Advanced working with functions
    </h1>
    <h2>
        Function binding
    </h2>
    <p>
        5. Объект user был изменён. Теперь вместо двух функций loginOk/loginFail у него есть только одна – user.login(true/false).<br/>
        Что нужно передать в вызов функции askPassword в коде ниже, чтобы она могла вызывать функцию user.login(true) как ok и функцию user.login(false) как fail?
    </p>
    <pre><code>
        function askPassword(ok, fail) {
            let password = prompt("Password?", '');
            if (password == "rockstar") ok();
            else fail();
        }
          
        let user = {
            name: 'John',
          
            login(result) {
              alert( this.name + (result ? ' logged in' : ' failed to log in') );
            }
        };
          
        askPassword(?, ?); // ?
    </code></pre>
    <p>
        Ваши изменения должны затрагивать только выделенный фрагмент кода.
    </p>
    <script>
        function askPassword(ok, fail) {
            let password = prompt("Password?", '');
            if (password == "rockstar") ok();
            else fail();
        }
          
        let user = {
            name: 'John',
          
            login(result) {
              alert( this.name + (result ? ' logged in' : ' failed to log in') );
            }
        };
          
        askPassword(user.login.bind(user, true), user.login.bind(user, false));

    </script>
</body>

</html>